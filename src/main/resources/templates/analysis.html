<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>数据分析</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="/layui/css/layui.css" media="all">
</head>
<body>

    <div class="layui-container">
        <div id="factoryId" th:text="${factoryId}" style="visibility:hidden"></div>

        <ul class="layui-nav layui-bg-cyan" lay-filter="">
            <li id="dailyReport" class="layui-nav-item layui-this">
                <a href="javascript:getHtml('dailyReport')">每日报表</a>
            </li>
            <li id="xxx" class="layui-nav-item">
                <a href="javascript:getHtml('dashBoard')">工况分析</a>
            </li>
        </ul>

        <div id="iframeContent">

        </div>

    </div>

    <!-- js引入 -->
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/echarts/4.0.4/echarts.min.js"></script>
    <script src="/layui/layui.all.js"></script>
    <script>
        <!-- 模拟自动点击a标签-->
        $(function(){
            // 默认加载 报表页面
            getHtml('dailyReport');
        })


       function getHtml(page) {
           // 1 先清空
           if (page=='dashBoard') {
               $("#iframeContent").empty();
           }
           var url = '/anal/'+page+'/'+$("#factoryId").html();
           $.ajax({
               url:url,
               type:'get',
               dataType:'html',
               success:function (data) {
                   $("#iframeContent").html(data);
               }
           });
       }
    </script>

</body>
</html>